# =============================================================================
# ALERT BOT PROJECT - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment

# =============================================================================
# GENERAL SETTINGS
# =============================================================================
NODE_ENV=development
TZ=UTC
LOG_LEVEL=info

# =============================================================================
# SERVICE PORTS
# =============================================================================
API_GATEWAY_PORT=3000
SUBSCRIPTION_SERVICE_PORT=3001
ALERT_ENGINE_PORT=3002
TELEGRAM_SERVICE_PORT=3003
GRAFANA_PORT=3004

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Settings
MONGO_PORT=27017
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=admin123
MONGO_DATABASE=alert_bot_dev

# Redis Settings
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# API Security
API_KEY_SECRET=your-api-key-secret-change-this
ENCRYPTION_KEY=your-32-character-encryption-key

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# CORS Configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================

# Cryptocurrency Exchange APIs
BINANCE_API_KEY=your-binance-api-key
BINANCE_API_SECRET=your-binance-api-secret
COINBASE_API_KEY=your-coinbase-api-key
COINBASE_API_SECRET=your-coinbase-api-secret
KUCOIN_API_KEY=your-kucoin-api-key
KUCOIN_API_SECRET=your-kucoin-api-secret
KUCOIN_PASSPHRASE=your-kucoin-passphrase

# Market Data APIs
COINGECKO_API_KEY=your-coingecko-api-key
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-api-key
TWELVE_DATA_API_KEY=your-twelve-data-api-key

# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/telegram/webhook
TELEGRAM_WEBHOOK_SECRET=your-webhook-secret
TELEGRAM_MAX_CONNECTIONS=40
TELEGRAM_ALLOWED_UPDATES=message,callback_query,inline_query

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
STRIPE_CURRENCY=usd

# PayPal Configuration
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=Alert Bot <noreply@alertbot.com>

# =============================================================================
# ALERT ENGINE CONFIGURATION
# =============================================================================

# Processing Intervals (in milliseconds)
ALERT_CHECK_INTERVAL=30000
MARKET_DATA_UPDATE_INTERVAL=60000
TECHNICAL_ANALYSIS_INTERVAL=300000
CLEANUP_INTERVAL=3600000

# Alert Limits
MAX_ALERTS_PER_USER=100
MAX_ALERTS_PER_SYMBOL=50
ALERT_BATCH_SIZE=50
MAX_CONCURRENT_CHECKS=10

# Market Data Settings
MARKET_DATA_CACHE_TTL=60
TECHNICAL_INDICATOR_CACHE_TTL=300
PRICE_HISTORY_DAYS=365
MAX_SYMBOLS_PER_REQUEST=100

# =============================================================================
# MONITORING AND ADMIN INTERFACES
# =============================================================================

# MongoDB Express
MONGO_EXPRESS_PORT=8081
MONGO_EXPRESS_USERNAME=admin
MONGO_EXPRESS_PASSWORD=admin123

# Redis Commander
REDIS_COMMANDER_PORT=8082
REDIS_COMMANDER_USERNAME=admin
REDIS_COMMANDER_PASSWORD=admin123

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# Nginx
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Fluentd
FLUENTD_PORT=24224
FLUENTD_UDP_PORT=24224

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# Cloud Storage (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=alert-bot-backups

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Slack Integration
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts
SLACK_USERNAME=AlertBot

# Discord Integration
DISCORD_WEBHOOK=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Email Notifications
EMAIL_RECIPIENT=admin@yourdomain.com
EMAIL_NOTIFICATIONS_ENABLED=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Connection Pools
MONGO_MAX_POOL_SIZE=10
MONGO_MIN_POOL_SIZE=2
REDIS_MAX_CONNECTIONS=20
REDIS_MIN_CONNECTIONS=5

# Cache Settings
CACHE_DEFAULT_TTL=3600
CACHE_MAX_KEYS=10000
SESSION_TTL=86400

# Request Timeouts (in milliseconds)
API_TIMEOUT=30000
DB_TIMEOUT=10000
REDIS_TIMEOUT=5000
EXTERNAL_API_TIMEOUT=15000

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_ADVANCED_ALERTS=true
FEATURE_SOCIAL_TRADING=false
FEATURE_PORTFOLIO_TRACKING=true
FEATURE_NEWS_ALERTS=true
FEATURE_TECHNICAL_ANALYSIS=true
FEATURE_WEBHOOK_ALERTS=true
FEATURE_EMAIL_ALERTS=true
FEATURE_PUSH_NOTIFICATIONS=false

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug Options
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=true
ENABLE_CORS_DEBUG=false

# Testing
TEST_DATABASE=alert_bot_test
TEST_REDIS_DB=1
TEST_TIMEOUT=30000

# Hot Reload
WATCH_FILES=true
RELOAD_ON_CHANGE=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# SSL Configuration
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# Security Headers
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
X_FRAME_OPTIONS=DENY

# Clustering
CLUSTER_MODE=false
WORKER_PROCESSES=auto
MAX_MEMORY_RESTART=1000M

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=combined
LOG_MAX_SIZE=100M
LOG_MAX_FILES=10
LOG_DATE_PATTERN=YYYY-MM-DD
LOG_COMPRESS=true

# Log Levels by Service
API_GATEWAY_LOG_LEVEL=info
SUBSCRIPTION_SERVICE_LOG_LEVEL=info
ALERT_ENGINE_LOG_LEVEL=info
TELEGRAM_SERVICE_LOG_LEVEL=info

# =============================================================================
# METRICS AND ANALYTICS
# =============================================================================
METRICS_ENABLED=true
METRICS_INTERVAL=60000
ANALYTICS_ENABLED=true
PERFORMANCE_MONITORING=true

# External Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# =============================================================================
# CIRCUIT BREAKER CONFIGURATION
# =============================================================================
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# =============================================================================
# QUEUE CONFIGURATION
# =============================================================================
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
QUEUE_CLEANUP_INTERVAL=3600000

# Job Priorities
ALERT_JOB_PRIORITY=high
NOTIFICATION_JOB_PRIORITY=medium
CLEANUP_JOB_PRIORITY=low
BACKUP_JOB_PRIORITY=low