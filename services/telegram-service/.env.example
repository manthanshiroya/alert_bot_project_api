# Telegram Service Environment Configuration

# Server Configuration
PORT=3003
NODE_ENV=development

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/alert_bot
MONGODB_TEST_URI=mongodb://localhost:27017/alert_bot_test

# Redis Configuration (for rate limiting and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# API Keys for Service Communication
API_GATEWAY_KEY=your-api-gateway-secret-key
SUBSCRIPTION_SERVICE_KEY=your-subscription-service-secret-key
ALERT_ENGINE_KEY=your-alert-engine-secret-key

# External Service URLs
API_GATEWAY_URL=http://localhost:3001
SUBSCRIPTION_SERVICE_URL=http://localhost:3002
ALERT_ENGINE_URL=http://localhost:3004
FRONTEND_URL=http://localhost:3000

# Telegram Bot Configuration
TELEGRAM_WEBHOOK_DOMAIN=https://your-domain.com
TELEGRAM_WEBHOOK_PATH=/api/v1/telegram/webhook
TELEGRAM_MAX_CONNECTIONS=40
TELEGRAM_ALLOWED_UPDATES=["message","callback_query","inline_query"]

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_BOT_REGISTRATION=5
RATE_LIMIT_MESSAGE_SENDING=100
RATE_LIMIT_ALERT_CREATION=20
SKIP_RATE_LIMIT_FOR_ADMIN=false

# Logging Configuration
LOG_LEVEL=debug
LOG_DIR=./logs
ENABLE_CONSOLE_LOGS=true
ENABLE_FILE_LOGS=false
ENABLE_TEST_LOGS=false

# Security Configuration
ENCRYPTION_KEY=your-32-character-encryption-key-here
HASH_SALT_ROUNDS=12

# Alert Configuration
ALERT_CHECK_INTERVAL=60
ALERT_MAX_RETRIES=3
ALERT_RETRY_DELAY=5000
ALERT_BATCH_SIZE=100
ALERT_COOLDOWN_MINUTES=5
ALERT_MAX_PER_DAY=50

# Message Configuration
MESSAGE_MAX_LENGTH=4096
MESSAGE_RETRY_ATTEMPTS=3
MESSAGE_RETRY_DELAY=1000
MESSAGE_BATCH_SIZE=30
MESSAGE_RATE_LIMIT_PER_MINUTE=20

# Bot Configuration
BOT_MAX_PER_USER=5
BOT_TOKEN_VALIDATION=true
BOT_AUTO_START=true
BOT_WEBHOOK_TIMEOUT=30000
BOT_POLLING_TIMEOUT=10000

# Chat Configuration
CHAT_MAX_PER_BOT=100
CHAT_INACTIVITY_DAYS=30
CHAT_AUTO_CLEANUP=true

# Performance Configuration
DB_CONNECTION_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=3000

# Monitoring Configuration
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION=true
PERFORMANCE_MONITORING=true

# Development Configuration
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=true
ENABLE_CORS=true

# Production Configuration
CLUSTER_MODE=false
WORKER_PROCESSES=1
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# External API Configuration
CRYPTO_API_KEY=your-crypto-api-key
NEWS_API_KEY=your-news-api-key
STOCK_API_KEY=your-stock-api-key

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret-for-signature-validation
WEBHOOK_TIMEOUT=30000
WEBHOOK_MAX_RETRIES=3

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_ENABLED=true

# Feature Flags
ENABLE_PREMIUM_FEATURES=true
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_AUTO_SCALING=false

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_INTERVAL=86400000
BACKUP_RETENTION_DAYS=7

# Testing Configuration
TEST_TIMEOUT=30000
TEST_BOT_TOKEN=your-test-bot-token
TEST_CHAT_ID=your-test-chat-id